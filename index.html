<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>๐๐จ ALENCAR FRETES</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css" />
    <link rel="stylesheet" href="style.css?v=5" />
</head>
<body>

<div class="header-top">
    <div class="logo-container"><img src="logo-cowboy-motofrete.png" alt="Logo Alencar Fretes" onerror="this.style.display='none'"></div>
    <div class="header-title"><h1>ALENCAR FRETES</h1></div>
</div>

<div id="map"></div>

<div class="container">
    <div class="row-endereco-num">
        <div><label>๐ DATA DA ENTREGA</label><input type="date" id="data_entrega"></div>
        <div><label>โฐ HORรRIO</label><input type="time" id="hora_entrega"></div>
    </div>
    
    <div><label>๐ค CLIENTE</label><input type="text" id="nome_cliente" placeholder="Nome completo"></div>
    
    <div class="box-destaque">
        <label style="text-align: center;">๐ COMO DESEJA INFORMAR O ENDEREรO?</label>
        <div class="tipo-busca">
            <button class="btn-busca active" id="btn-por-cep" onclick="selecionarBusca('cep')">Por CEP</button>
            <button class="btn-busca" id="btn-por-rua" onclick="selecionarBusca('rua')">Nome da Rua</button>
        </div>
    </div>

    <div id="campo-cep" style="display: block;">
        <div class="row-endereco-num">
            <div><label>๐ฎ CEP</label><input type="text" id="cep" placeholder="00000-000" onblur="buscarCep()"></div>
            <div><label>Nยบ</label><input type="text" id="num_residencia_cep" placeholder="123"></div>
        </div>
        <div><label>๐ RUA</label><input type="text" id="rua_pelo_cep" placeholder="A rua aparecerรก aqui..." readonly></div>
    </div>

    <div id="campo-rua" style="display: none;">
        <div class="row-endereco-num">
            <div><label>๐ RUA OU AVENIDA</label><input type="text" id="destino" placeholder="Ex: Av Paulista"></div>
            <div><label>Nยบ</label><input type="text" id="num_residencia" placeholder="123"></div>
        </div>
    </div>

    <div><label>๐ฉ PONTO DE REFERรNCIA (Opcional)</label><input type="text" id="ponto_referencia" placeholder="Ex: Prรณximo ao mercado..."></div>
    
    <div class="botoes-acao">
        <button class="btn-3d-green" id="btn-calcular" onclick="validarExpediente()">๐ CALCULAR O FRETE</button>
        <button class="btn-clear" onclick="limpar()">๐งน Limpar Tudo</button>
    </div>

    <div id="campo-resumo">
        <h3 style="color: var(--accent); margin-top: 0; margin-bottom: 15px; font-weight: 900; letter-spacing: 1px;">RESUMO DO PEDIDO</h3>
        <div class="resultado-grid">
            <div class="card-info-3d"><label>DISTรNCIA</label><span id="distancia">0.00 <small style="font-size: 0.5em;">KM</small></span></div>
            <div class="card-info-3d"><label>VALOR TOTAL</label><span id="valor" class="valor-destaque">R$ 0,00</span></div>
        </div>
        <div class="bairro-tempo-display">
            <div class="info-item"><span class="info-text-label">๐๏ธ Bairro de Destino</span><span class="info-value-neon" id="res-bairro">---</span></div>
            <div class="info-item"><span class="info-text-label">โฑ๏ธ Tempo de Viagem</span><span class="info-value-neon" id="res-tempo">---</span></div>
        </div>
        <div id="aviso-taxa">โ๏ธ TAXA MรNIMA APLICADA โ</div>
    </div>

    <div class="box-destaque">
        <label style="text-align: center;">๐ TIPO DE LOCAL DE ENTREGA</label>
        <div class="tipo-residencia">
            <button class="btn-tipo btn-3d-green active" id="btn-casa" onclick="selecionarTipo('casa')">๐ CASA</button>
            <button class="btn-tipo" id="btn-apto" onclick="selecionarTipo('apto')">๐ข APTO</button>
        </div>
    </div>

    <div id="dados-apto">
        <div><label>BLOCO</label><input type="text" id="bloco" placeholder="Ex: B"></div>
        <div><label>APTO</label><input type="text" id="apto" placeholder="Ex: 101"></div>
    </div>

    <button class="btn-whatsapp" onclick="prepararEnvio()">๐ฑ ENVIAR PEDIDO P/ WHATSAPP</button>
</div>

<div id="modalExpediente" class="modal-overlay">
    <div class="msg-box">
        <h2>โ๏ธ ATENรรO</h2>
        <p>A solicitaรงรฃo serรก enviada para o WhatsApp do Lucas para anรกlise de disponibilidade.</p>
        <button class="btn-3d-green" onclick="continuarCalculo()">โ OK, CONTINUAR</button>
        <button class="btn-voltar" onclick="fecharModalExpediente()">CANCELAR</button>
    </div>
</div>

<div id="avisoLucas" class="modal-overlay">
    <div class="msg-box">
        <h2 style="color: var(--accent);">TUDO CERTO!</h2>
        <p>Deseja enviar os dados do pedido para o WhatsApp?</p>
        <button class="btn-whatsapp" onclick="finalizarEnvio()">โ SIM, ENVIAR AGORA</button>
        <button class="btn-voltar" onclick="fecharModal()">VOLTAR</button>
    </div>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js"></script>
<script src="script.js?v=5"></script>
</body>
</html>
